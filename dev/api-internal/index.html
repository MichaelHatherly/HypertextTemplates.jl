<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal API · HypertextTemplates</title><meta name="title" content="Internal API · HypertextTemplates"/><meta property="og:title" content="Internal API · HypertextTemplates"/><meta property="twitter:title" content="Internal API · HypertextTemplates"/><meta name="description" content="Documentation for HypertextTemplates."/><meta property="og:description" content="Documentation for HypertextTemplates."/><meta property="twitter:description" content="Documentation for HypertextTemplates."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HypertextTemplates</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../core-concepts/">Core Concepts</a></li><li><a class="tocitem" href="../components/">Components</a></li><li><a class="tocitem" href="../elements-attributes/">Elements &amp; Attributes</a></li><li><a class="tocitem" href="../rendering/">Rendering &amp; Performance</a></li><li><a class="tocitem" href="../library-components/">Library Components</a></li></ul></li><li><span class="tocitem">Advanced</span><ul><li><a class="tocitem" href="../advanced-features/">Advanced Features</a></li><li><a class="tocitem" href="../markdown-integration/">Markdown Integration</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../api-public/">Public API</a></li><li><a class="tocitem" href="../api-library/">Library Components</a></li><li class="is-active"><a class="tocitem" href>Internal API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Internal API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internal API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MichaelHatherly/HypertextTemplates.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/main/docs/src/api-internal.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Internal-API"><a class="docs-heading-anchor" href="#Internal-API">Internal API</a><a id="Internal-API-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-API" title="Permalink"></a></h1><p>The internal API includes implementation details, helper functions, and low-level utilities that power HypertextTemplates but are not intended for direct use. These APIs may change between minor versions without notice as we optimize performance or refactor internals. While these functions are documented for contributors and those needing to understand the implementation, you should avoid depending on them in production code. If you find yourself needing internal functionality, please open an issue - it might indicate a gap in the public API that we should address.</p><article><details class="docstring" open="true"><summary id="HypertextTemplates.MicroBatchWriter"><a class="docstring-binding" href="#HypertextTemplates.MicroBatchWriter"><code>HypertextTemplates.MicroBatchWriter</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MicroBatchWriter &lt;: IO</code></pre><p>Internal writer that implements the micro-batching strategy. It acts as an intelligent buffer between the rendering code and the Channel, making decisions about when to send data based on size and time thresholds.</p><p>The writer follows these rules:</p><ul><li>Large writes (≥ immediate_threshold) bypass buffering entirely</li><li>Small writes accumulate in a buffer until a threshold is reached</li><li>A timer ensures buffered data is flushed within max<em>buffer</em>time</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/stream.jl#L11-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates.TemplateFileLookup-Tuple{Any}"><a class="docstring-binding" href="#HypertextTemplates.TemplateFileLookup-Tuple{Any}"><code>HypertextTemplates.TemplateFileLookup</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">TemplateFileLookup(handler)</code></pre><p>This is a developer tool that can be added to an <code>HTTP</code> handler stack to allow the user to open the template file in their default editor by holding down the <code>Ctrl</code> key and clicking on the rendered template. This is useful for debugging navigating the template files instead of having to manually search through a codebase for the template file that renders a given item within a page.</p><pre><code class="language-julia hljs">HTTP.serve(router |&gt; TemplateFileLookup, host, port)</code></pre><p>Always add the <code>TemplateFileLookup</code> handler after the other handlers, since it needs to inject a script into the response to listen for clicks on the rendered template.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/template-source-lookup.jl#L1-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._atomic_write-Tuple{String, String}"><a class="docstring-binding" href="#HypertextTemplates._atomic_write-Tuple{String, String}"><code>HypertextTemplates._atomic_write</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_atomic_write(path, content)</code></pre><p>Write content to a file atomically using a temp file and rename.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L199-L203">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._escape_css_path-Tuple{String}"><a class="docstring-binding" href="#HypertextTemplates._escape_css_path-Tuple{String}"><code>HypertextTemplates._escape_css_path</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_escape_css_path(path) -&gt; String</code></pre><p>Escape a file path for use in CSS. Uses forward slashes universally.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L170-L174">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._insert_after_import-Tuple{String, String}"><a class="docstring-binding" href="#HypertextTemplates._insert_after_import-Tuple{String, String}"><code>HypertextTemplates._insert_after_import</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_insert_after_import(content, line) -&gt; String</code></pre><p>Insert a line after <code>@import &quot;tailwindcss&quot;;</code> or at the top if not found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L183-L187">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._library_source_dir-Tuple{}"><a class="docstring-binding" href="#HypertextTemplates._library_source_dir-Tuple{}"><code>HypertextTemplates._library_source_dir</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_library_source_dir() -&gt; String</code></pre><p>Get the path to the HypertextTemplates Library source directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L79-L83">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._sidecar_path-Tuple{String}"><a class="docstring-binding" href="#HypertextTemplates._sidecar_path-Tuple{String}"><code>HypertextTemplates._sidecar_path</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_sidecar_path(css_path) -&gt; String</code></pre><p>Compute the sidecar CSS path for a given main CSS file. <code>app.css</code> → <code>app.ht-source.css</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L92-L97">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates._update_tailwind_source!-Tuple{String, String}"><a class="docstring-binding" href="#HypertextTemplates._update_tailwind_source!-Tuple{String, String}"><code>HypertextTemplates._update_tailwind_source!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_update_tailwind_source!(css_path, library_path) -&gt; Bool</code></pre><p>Update a Tailwind CSS file with a <code>@source</code> directive for the Library. Creates a sidecar file with the <code>@source</code> directive and adds an <code>@import</code> to the main CSS file. Returns <code>true</code> if any file was modified, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/tailwind-source-macro.jl#L102-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates.create_flush_timer-Tuple{HypertextTemplates.MicroBatchWriter}"><a class="docstring-binding" href="#HypertextTemplates.create_flush_timer-Tuple{HypertextTemplates.MicroBatchWriter}"><code>HypertextTemplates.create_flush_timer</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">create_flush_timer(writer::MicroBatchWriter)</code></pre><p>Create a Timer that periodically flushes the writer&#39;s buffer if data is present and enough time has passed since the last write.</p><p>The timer is crucial for bounded latency - without it, small writes that don&#39;t trigger size-based flushing could sit in the buffer indefinitely. This ensures that even a single character written will appear within max<em>buffer</em>time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/stream.jl#L119-L128">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates.escape_attr-Tuple{IO, AbstractString}"><a class="docstring-binding" href="#HypertextTemplates.escape_attr-Tuple{IO, AbstractString}"><code>HypertextTemplates.escape_attr</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">escape_attr(io::IO, value)</code></pre><p>Write HTML attribute-escaped content to an IO stream.</p><p>This function escapes characters that have special meaning in HTML attributes, providing more comprehensive escaping than <a href="#HypertextTemplates.escape_html-Tuple{IO, AbstractString}"><code>escape_html</code></a>. It is automatically called for all attribute values unless wrapped in <a href="../api-public/#HypertextTemplates.SafeString"><code>SafeString</code></a>.</p><p><strong>Escaped characters</strong></p><ul><li><code>&amp;</code> → <code>&amp;amp;</code></li><li><code>&lt;</code> → <code>&amp;lt;</code></li><li><code>&gt;</code> → <code>&amp;gt;</code></li><li><code>&quot;</code> → <code>&amp;quot;</code></li><li><code>&#39;</code> → <code>&amp;#39;</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>io::IO</code>: The output stream to write to</li><li><code>value</code>: The attribute value to escape (converted to string if not already)</li></ul><div class="admonition is-info" id="Note-4b37cc6fd916b5c9"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-4b37cc6fd916b5c9" title="Permalink"></a></header><div class="admonition-body"><p>This function provides defense-in-depth but cannot prevent all attribute-based attacks. Always validate URLs and other sensitive attribute values at the application level.</p></div></div><p>See also: <a href="#HypertextTemplates.escape_html-Tuple{IO, AbstractString}"><code>escape_html</code></a>, <a href="../api-public/#HypertextTemplates.SafeString"><code>SafeString</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/html-escaping.jl#L74-L100">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates.escape_html-Tuple{IO, AbstractString}"><a class="docstring-binding" href="#HypertextTemplates.escape_html-Tuple{IO, AbstractString}"><code>HypertextTemplates.escape_html</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">escape_html(io::IO, value)</code></pre><p>Write HTML-escaped content to an IO stream.</p><p>This function escapes HTML special characters to prevent XSS attacks when rendering user content. It is automatically called by HypertextTemplates for all string content unless wrapped in <a href="../api-public/#HypertextTemplates.SafeString"><code>SafeString</code></a>.</p><p><strong>Escaped characters</strong></p><ul><li><code>&amp;</code> → <code>&amp;amp;</code></li><li><code>&lt;</code> → <code>&amp;lt;</code></li><li><code>&gt;</code> → <code>&amp;gt;</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>io::IO</code>: The output stream to write to</li><li><code>value</code>: The content to escape (converted to string if not already)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using HypertextTemplates

julia&gt; io = IOBuffer();

julia&gt; HypertextTemplates.escape_html(io, &quot;Hello &lt;script&gt;alert(&#39;XSS&#39;)&lt;/script&gt;&quot;)

julia&gt; String(take!(io))
&quot;Hello &amp;lt;script&amp;gt;alert(&#39;XSS&#39;)&amp;lt;/script&amp;gt;&quot;

julia&gt; # SafeString content is not escaped
       io = IOBuffer();

julia&gt; HypertextTemplates.escape_html(io, SafeString(&quot;&lt;b&gt;Bold&lt;/b&gt;&quot;))

julia&gt; String(take!(io))
&quot;&lt;b&gt;Bold&lt;/b&gt;&quot;</code></pre><p>See also: <a href="#HypertextTemplates.escape_attr-Tuple{IO, AbstractString}"><code>escape_attr</code></a>, <a href="../api-public/#HypertextTemplates.SafeString"><code>SafeString</code></a>, <a href="../api-public/#HypertextTemplates.@esc_str-Tuple{Any}"><code>@esc_str</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/html-escaping.jl#L17-L56">source</a></section></details></article><article><details class="docstring" open="true"><summary id="HypertextTemplates.render-Tuple{Function}"><a class="docstring-binding" href="#HypertextTemplates.render-Tuple{Function}"><code>HypertextTemplates.render</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">render([dst], component; properties...)</code></pre><p>Render the <code>component</code> with the given <code>properties</code> to the optional <code>dst</code>. This is the functional version of <code>@render</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MichaelHatherly/HypertextTemplates.jl/blob/da47c08839a98dd95adac904367e390ea230ea24/src/render.jl#L1-L6">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api-library/">« Library Components</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 6 January 2026 13:08">Tuesday 6 January 2026</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
